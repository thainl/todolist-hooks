/*! For license information please see main.057cc4b9.chunk.js.LICENSE.txt */
(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),i=n(2),r=n.n(i),a=n(18),s=n(3),l=(n(27),n(42)),u=n(41);n(28);function d(e){var t=e.openInput,n=e.isInputShow;return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{children:"\u5f85\u529e\u4e8b\u4ef6"}),Object(c.jsx)("span",{className:n?"icon rotate":"icon",onClick:t,children:"+"})]})}n(29);var h=Object(o.memo)((function(e){var t=e.isInputShow,n=e.addItem,i=Object(o.useRef)();Object(o.useEffect)((function(){t?i.current.focus():i.current.blur()}),[t]);var r=function(){var e=i.current.value.trim();""!==e&&(n(e),i.current.value="")};return Object(c.jsx)(u.a,{in:t,timeout:300,classNames:"slide",children:Object(c.jsxs)("div",{className:"input-wrapper",children:[Object(c.jsx)("input",{ref:i,type:"text",placeholder:"\u8bf7\u8f93\u5165\u5f85\u529e\u4e8b\u4ef6",onKeyUp:function(e){13===e.keyCode&&t&&r()}}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:r,children:"\u589e\u52a0"})]})})}));function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.64rem",n=document.createElement("span"),c=document.querySelector(".todo-item .content"),o=parseFloat(window.getComputedStyle(document.documentElement,null).fontSize);n.innerText=e,n.style.opacity="0",n.style.fontSize=t,n.style.position="absolute",document.body.appendChild(n);var i=0;return i=c&&n.offsetWidth>c.offsetWidth?c.offsetWidth-2:n.offsetWidth,document.body.removeChild(n),i/o+"rem"}function p(e){var t=new Date(e),n=t.getFullYear(),c=t.getMonth()+1,o=t.getDate(),i=f(t.getHours()),r=f(t.getMinutes()),a=f(t.getSeconds());return"".concat(n,"-").concat(c,"-").concat(o," ").concat(i,":").concat(r,":").concat(a)}function f(e){return e<10?"0"+e:""+e}n(32);var b=Object(o.forwardRef)((function(e,t){var n=e.children,i=e.checked,r=e.onChange,a=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}(),s=Object(o.useRef)();return Object(c.jsxs)("label",{htmlFor:a,className:"my-checkbox-wrapper",children:[Object(c.jsx)("input",{id:a,type:"checkbox",className:"input-checkbox",defaultChecked:i,ref:t,onChange:function(){var e;"function"===typeof r&&r(),e=t?t.current.checked:!i,s.current.style.animation=e?"wave 0.4s ease":"none"}},a),Object(c.jsx)("span",{className:"my-checkbox",ref:s,children:Object(c.jsx)("svg",{className:"svg",children:Object(c.jsx)("polyline",{points:"2 5.5 4.5 8 9.5 1.5"})})}),Object(c.jsx)("span",{className:"text",children:n})]})}));n(33);function v(e){var t=e.item,n=e.clickViewBtn,i=e.clickEditBtn,r=e.clickDeleteBtn,a=e.clickCheckbox,s=Object(o.useRef)(),l=Object(o.useRef)(),u=Object(o.useRef)(!0);function d(){var e=document.querySelector(".modal-wrapper");return!e||"none"==e.style.display}return Object(o.useEffect)((function(){u.current?(u.current=!1,s.current.style.transition="none",l.current.style.transition="none"):s.current.style.transition.includes("none 0s")&&(s.current.style.transition=null,l.current.style.transition=null),s.current.style.backgroundPosition=t.completed?m(t.content):"0",l.current.style.width=t.completed?m(t.content):"0"}),[t.content,t.completed]),Object(c.jsx)("li",{className:"todo-item",children:Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)("div",{className:"check-box",children:Object(c.jsx)(b,{checked:t.completed,onChange:a.bind(null,t.id)})}),Object(c.jsxs)("p",{className:"content",ref:s,children:[t.content,Object(c.jsx)("span",{className:"line",ref:l})]}),Object(c.jsxs)("div",{className:"btn-group",children:[Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return d()&&n(t.id)},children:"\u67e5\u770b"}),Object(c.jsx)("button",{className:"btn btn-warning",onClick:function(){return d()&&i(t.id)},children:"\u7f16\u8f91"}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){return d()&&r(t.id)},children:"\u5220\u9664"})]})]})})}var j=n(15),k=n(16),g=n(20),O=n(17),x=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(e){var c;return Object(j.a)(this,n),(c=t.call(this,e)).onExited=function(){var e=document.querySelector(".modal-wrapper");c.props.unmountOnHide?e&&document.body.removeChild(e):e.style.display="none",document.body.style.overflow="auto","function"===typeof c.props.onClosed&&c.props.onClosed()},c.handleClickMask=function(e){c.el.querySelector(".modal-mask").className.includes("modal-enter-done")&&"function"===typeof c.props.clickMask&&c.props.clickMask(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},c.el=document.createElement("div"),c.el.className="modal-wrapper",c}return Object(k.a)(n,[{key:"componentDidUpdate",value:function(){this.props.show&&(this.props.unmountOnHide?document.body.appendChild(this.el):(!document.querySelector(".modal-wrapper")&&document.body.appendChild(this.el),this.el.style.display="flex"),document.body.style.overflow="hidden")}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.children;return r.a.createPortal(Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.a,{in:t,timeout:300,classNames:"modal",appear:!0,unmountOnExit:!!this.props.unmountOnHide,children:Object(c.jsx)("div",{className:"modal-mask",onClick:this.handleClickMask})}),Object(c.jsx)(u.a,{onExited:this.onExited,in:t,timeout:300,classNames:"operation",appear:!0,unmountOnExit:!!this.props.unmountOnHide,children:Object(c.jsx)("div",{className:"modal-inner",children:n})})]}),this.el)}}]),n}(o.Component);function y(e){var t=e.type,n=e.show,i=e.data,r=e.closeModal,a=e.clickViewConfirmBtn,l=e.clickDeleteConfirmBtn,u=e.clickDeleteCancelBtn,d=e.clickEditSaveBtn,h=e.onClosed,m="delete"===t,f="edit"===t,v=Object(o.useRef)(),j=Object(o.useRef)();Object(o.useEffect)((function(){f&&v.current&&(v.current.value=i.content,v.current.focus()),!O&&y(!0)}),[n]);var k=Object(o.useState)(!0),g=Object(s.a)(k,2),O=g[0],y=g[1];return Object(c.jsx)(x,{show:n,clickMask:O?r:null,onClosed:h,children:Object(c.jsxs)("div",{className:"inner",children:[Object(c.jsx)("span",{className:"close",onClick:function(){return r()},children:"+"}),Object(c.jsx)("h3",{className:"m-header",style:{backgroundColor:m?"#d9534f":""},children:m?"\u786e\u5b9a\u5220\u9664\u4e8b\u4ef6\uff1f":(f?"\u7f16\u8f91":"\u67e5\u770b")+"\u4e8b\u4ef6"}),Object(c.jsxs)("div",{className:"content-wrapper",children:[Object(c.jsxs)("p",{className:"topic",children:["\u65f6\u95f4\uff1a ",p(i.updateTime)]}),Object(c.jsxs)("p",{className:"topic content",children:["\u5185\u5bb9\uff1a"," ",f?Object(c.jsx)("textarea",{className:"text-area",ref:v,onBlur:function(e){e.target.value===i.content?!O&&y(!0):O&&y(!1)}}):i.content]}),Object(c.jsxs)("p",{className:"topic",children:["\u72b6\u6001\uff1a"," ",f?Object(c.jsx)(b,{ref:j,checked:i.completed}):i.completed?"\u5df2\u5b8c\u6210":"\u672a\u5b8c\u6210"]}),Object(c.jsxs)("div",{className:"options-group",children:[m&&Object(c.jsx)("button",{className:"btn btn-default cancel-btn",onClick:function(){return u()},children:"\u53d6\u6d88"}),Object(c.jsx)("button",{className:"btn confirm-btn "+(m?"btn-danger":"btn-primary"),onClick:function(){return m?l(i.id):f?function(){var e=v.current.value.trim();if(0!==e.length)if(i.content===e)i.completed===j.current.checked?d({},null):d({completed:j.current.checked},i.id);else{var t={updateTime:Date.now(),content:e,completed:j.current.checked};d(t,i.id)}else v.current.value=i.content}():a(i.id)},children:m?"\u5220\u9664":f?"\u4fdd\u5b58":"\u786e\u5b9a"})]})]})]})})}var C=n(14),E=n(19);function w(e){var t=e.children,n=e.duration,i=e.onClose,r=Object(o.useState)(!0),a=Object(s.a)(r,2),l=a[0],u=a[1];Object(o.useEffect)((function(){setTimeout((function(){u(!1),"function"===typeof i&&i()}),n+300)}),[]);var d={transition:"all 300ms",opacity:"0",transform:"scale(0.6)"},h={entering:{opacity:"0",transform:"scale(0.6)"},entered:{opacity:"1",transform:"scale(1)"},exiting:{opacity:"0",transform:"scale(0.6)"},exited:{opacity:"0",transform:"scale(0.6)"}};return Object(c.jsx)(E.a,{in:l,unmountOnExit:!0,appear:!0,timeout:300,children:function(e){return Object(c.jsx)("div",{className:"toast",style:Object(C.a)(Object(C.a)({},d),h[e]),children:t})}})}n(34);var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2?arguments[2]:void 0;if(0===e.length)throw new Error("content\u503c\u5fc5\u987b\u8981\u6709\u6548");var o=document.createElement("div");document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o)}),t+800);var i=Object(c.jsx)(w,{duration:t,onClose:n,children:e});r.a.render(i,o)};function N(){return Object(c.jsx)("div",{className:"no-data-tip-wrapper",children:"\u6682\u65e0\u4e8b\u4ef6\u5f85\u529e"})}var T=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(o.useState)(JSON.parse(localStorage.getItem("todoData")||"[]")),m=Object(s.a)(r,2),p=m[0],f=m[1],b=Object(o.useState)({}),j=Object(s.a)(b,2),k=j[0],g=j[1],O=Object(o.useState)(!1),x=Object(s.a)(O,2),C=x[0],E=x[1],w=Object(o.useState)(""),T=Object(s.a)(w,2),M=T[0],L=T[1];Object(o.useEffect)((function(){localStorage.getItem("todoData")!=JSON.stringify(p)&&localStorage.setItem("todoData",JSON.stringify(p))}),[p]);var D=Object(o.useCallback)((function(e){var t=Date.now(),n={id:t,updateTime:t,content:e,completed:!1};f((function(e){return[n].concat(Object(a.a)(e))})),i(!1)}),[]),B=function(e,t){L(e),function(e){g((function(){return p.filter((function(t){return t.id===e}))[0]}))}(t)};Object(o.useEffect)((function(){k.id?E(!0):C&&E(!1)}),[k]);var I=function(){E(!1)},P=Object(o.useCallback)((function(e){B("view",e)}),[p]),A=Object(o.useCallback)((function(e){B("edit",e)}),[p]),F=Object(o.useCallback)((function(e){B("delete",e)}),[p]),W=Object(o.useCallback)((function(e){f((function(t){return t.map((function(t){return t.id===e&&(t.completed=!t.completed),t}))}))}),[]),R=Object(o.useCallback)((function(){I()}),[]),X=Object(o.useCallback)((function(e,t){t&&(f((function(n){return n.map((function(n){return n.id===t&&Object.assign(n,e),n}))})),S("\u4fee\u6539\u6210\u529f",1e3)),I()}),[]),Y=Object(o.useCallback)((function(e){f((function(t){return t.filter((function(t){return t.id!==e}))})),S("\u5220\u9664\u6210\u529f",1e3),I()}),[]),q=Object(o.useCallback)((function(){I()}),[]),H=Object(o.useCallback)((function(){I()}),[]),J=Object(o.useCallback)((function(){g({}),L("")}),[]);return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(d,{isInputShow:n,openInput:function(){return i(!n)}}),Object(c.jsx)(h,{isInputShow:n,addItem:D}),Object(c.jsx)("div",{className:"todo-list",style:{marginTop:n?"3.28rem":"1.76rem"},children:Object(c.jsx)(l.a,{component:"ul",children:0!==p.length&&p.map((function(e){return Object(c.jsx)(u.a,{classNames:"item",timeout:600,appear:!0,children:Object(c.jsx)(v,{item:e,clickViewBtn:P,clickEditBtn:A,clickDeleteBtn:F,clickCheckbox:W})},e.id)}))})}),Object(c.jsx)(u.a,{in:0===p.length,unmountOnExit:!0,timeout:300,classNames:"no-data",children:Object(c.jsx)(N,{})}),Object(c.jsx)(y,{type:M,data:k,show:C,closeModal:H,clickViewConfirmBtn:R,clickEditSaveBtn:X,clickDeleteConfirmBtn:Y,clickDeleteCancelBtn:q,onClosed:J})]})};n(35),n(36),n(37),n(38),n(39);function M(e,t){var n;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!M.notNeeded(e)){for(var c=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,i=0,r=c.length;i<r;i++)o[c[i]]=a(o[c[i]],o);D&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,c){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,n.hijacked||n,c):o.call(e,t,n,c)},e.addEventListener=function(t,n,c){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),c):o.call(e,t,n,c)}),"function"===typeof e.onclick&&(n=e.onclick,e.addEventListener("click",(function(e){n(e)}),!1),e.onclick=null)}function a(e,t){return function(){return e.apply(t,arguments)}}}var L=navigator.userAgent.indexOf("Windows Phone")>=0,D=navigator.userAgent.indexOf("Android")>0&&!L,B=/iP(ad|hone|od)/.test(navigator.userAgent)&&!L,I=B&&/OS 4_\d(_\d)?/.test(navigator.userAgent),P=B&&/OS [6-7]_\d/.test(navigator.userAgent),A=navigator.userAgent.indexOf("BB10")>0;M.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(B&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},M.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!D;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},M.prototype.sendClick=function(e,t){var n,c;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),c=t.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},M.prototype.determineEventType=function(e){return D&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},M.prototype.focus=function(e){var t;B&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},M.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},M.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},M.prototype.onTouchStart=function(e){var t,n,c;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],B){if((c=window.getSelection()).rangeCount&&!c.isCollapsed)return!0;if(!I){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},M.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},M.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},M.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},M.prototype.onTouchEnd=function(e){var t,n,c,o,i,r=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,P&&(i=e.changedTouches[0],(r=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||r).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(c=r.tagName.toLowerCase())){if(t=this.findControl(r)){if(this.focus(r),D)return!1;r=t}}else if(this.needsFocus(r))return e.timeStamp-n>100||B&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,e),B&&"select"===c||(this.targetElement=null,e.preventDefault()),!1);return!(!B||I||!(o=r.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(r)||(e.preventDefault(),this.sendClick(r,e)),!1)},M.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},M.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},M.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},M.prototype.destroy=function(){var e=this.layer;D&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},M.notNeeded=function(e){var t,n,c;if("undefined"===typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!D)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(A&&(c=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&c[2]>=3&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},M.attach=function(e,t){return new M(e,t)};var F=M;window.addEventListener("load",(function(){F.attach(document.body)})),document.documentElement.addEventListener("touchmove",(function(e){e.touches.length>1&&e.preventDefault()})),r.a.render(Object(c.jsx)(T,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.057cc4b9.chunk.js.map